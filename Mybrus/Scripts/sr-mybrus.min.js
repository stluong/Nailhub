TNT.Language||(TNT.Language=function(n){var t=n("span#spanLanguage","body"),i=n("button#dnmLanguage","body"),r=n("ul#ulLanguage","body");r.find("a").each(function(){n(this).bind("click",function(){var r=n(this).find("img");r.attr("alt").indexOf("VN")>-1?(n.cookie("mybruslang",2,{expires:7,path:"/"}),t.text("Vietnamese")):(n.cookie("mybruslang",1,{expires:7,path:"/"}),t.text("English"));i.dropdown("toggle").find("img").attr("src",r.attr("src"));location.reload()})})}(jQuery));TNT.Cart||(TNT.Cart=function(n){function t(){n("header#topNav").find("li#quickCart").load(TNT.Common.Settings("input#url-Cart-Quick").val())}function i(){var t=n("body").find("div#shoppingCart");t.find("div#cartContent").html("<div class='my-spinner'><\/div>");t.load(TNT.Common.Settings("input#url-Cart-Detail").val())}return{Add:function(i){i.size=n("select#ddlSize").val();i.quantity=n("input#product_qty").val();TNT.Service.GCall(TNT.Common.Settings("input#url-Cart-Add").val(),i).Success(function(){TNT.Common.Alert("Your item was added to cart!",{type:"alert-success",timeOut:3e3});t()})},Remove:function(n){TNT.Service.GCall(TNT.Common.Settings("input#url-Cart-Remove").val(),n).Success(function(){TNT.Common.Alert("Your item was removed to cart!",{type:"alert-success",timeOut:3e3});t();i()})},Update:function(r){n("div#cartContent").find("input[name='qty']").each(function(t,i){r[t].quantity=n(i).val()});TNT.Service.PCall(TNT.Common.Settings("input#url-Cart-Update").val(),{prods:r}).Success(function(){TNT.Common.Alert("Your shopping cart was updated!",{type:"alert-success",timeOut:3e3});t();i()})}}}(jQuery));TNT.Product||(TNT.Product=function(n){var t=n("table#tblSaleReport","body"),i=TNT.Common.Settings("input#url-Prod-UpdateTracking").val();return{UpdateTracking:function(t){var r=n(t),i=r.prevUntil("div");if(n.trim(i.val()).length>0){var u=r.closest("td"),f=u.prev("td.tdStatus"),e={orderId:i.attr("attr-id"),trackingNo:i.val()};TNT.Service.PCall(TNT.Common.Settings("input#url-Prod-UpdateTracking").val(),e).Success(function(){u.html(i.val());f.html("Shipped")})}else i.addClass("txt-required").focus()},Crud:function(t,i){var e,o;if(n.isNumeric(i))BootstrapDialog.confirm("Are you sure to delete it?",function(n){n&&(t.code="XOAXOAXOA",TNT.Service.PCall(TNT.Common.Settings("input#url-Prod-Crud").val(),t).Success(function(){TNT.Common.Alert("Your product was removed!",{type:"alert-success",timeOut:3e3});location.reload(!0)}))});else{jQuery;var r=n(t.productid>0?"div#prodEdit":"div#prodAdd","body"),u=n(i),f=u.next(),c=TNT.Common.Settings("input#url-Prod-Upload").val(),l=TNT.Common.Settings("input#url-Prod-Crud").val();t.code=r.find("input#txtCode").val();t.brandid=r.find("select#ddlBrand").val();t.name=r.find("input#txtName").val();t.description=r.find("textarea#txtDesc").val();t.productid<1&&(t.Ten=r.find("input#txtTen").val(),t.MieuTa=r.find("textarea#txtMieuTa").val());t.price=r.find("input#txtPrice").val();e=[];r.find("input[name='chkSize']:checked").each(function(t,i){e.push(n(i).val())});t.Sizes=e;var a=r.find("#fileImage"),s=a.get(0).files,h=new FormData;s.length>0?(o=s[0],t.image=o.name,h.append("uploadingImage",o)):t.image="";u.hide();f.removeClass("hide");TNT.Service.FileUpload(c,h).Success(function(){TNT.Service.PCall(l,t).Success(function(){u.show();f.addClass("hide");TNT.Common.Alert("Your product was updated!",{type:"alert-success",timeOut:3e3});t.image!=""&&(t.productid>0?location.reload(!0):window.location.replace(TNT.Common.Settings("input#url-Prod-Index").val()))},function(){f.addClass("hide");u.show()})})}},DeleteImage:function(t){var i=n(t),r=i.attr("attr-pid"),u=i.attr("attr-img"),f={prdid:r,img:u};TNT.Service.GCall(TNT.Common.Settings("input#url-Prod-DeleteImage").val(),f).Success(function(){TNT.Common.Alert("Image was deleted!",{type:"alert-success",timeOut:3e3});i.parent().remove()})},SetImage:function(t){var i=n(t),r=i.attr("attr-pid"),u=i.attr("attr-img"),f={prdid:r,img:u};TNT.Service.GCall(TNT.Common.Settings("input#url-Prod-SetImage").val(),f).Success(function(){TNT.Common.Alert("Image was default!",{type:"alert-success",timeOut:3e3})})}}}(jQuery));
//# sourceMappingURL=sr-mybrus.min.js.map
